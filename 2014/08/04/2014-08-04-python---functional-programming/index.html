<!doctype html><html lang=zh-cn dir=ltr class=scroll-smooth data-default-appearance=light data-auto-appearance=true><head><meta charset=utf-8><meta http-equiv=content-language content="zh-CN"><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><title>函数式编程 && Python - 第一部分 &middot; N3xtChen 的博客</title><meta name=title content="函数式编程 && Python - 第一部分 &middot; N3xtChen 的博客"><meta name=keywords content="python,Funcitonal Programming,"><link rel=canonical href=https://n3xtchen.github.io/2014/08/04/2014-08-04-python---functional-programming/><link type=text/css rel=stylesheet href=/css/main.bundle.min.5775579083e26679417a451dd3d7c3e540c7be85426fba5a47019603552ac89b95e12dddb64138e0aa488d68bc318ec4b0820255a5859b4da3f1b45f140abf11.css integrity="sha512-V3VXkIPiZnlBekUd09fD5UDHvoVCb7paRwGWA1UqyJuV4S3dtkE44KpIjWi8MY7EsIICVaWFm02j8bRfFAq/EQ=="><script type=text/javascript src=/js/appearance.min.516a16745bea5a9bd011138d254cc0fd3973cd55ce6e15f3dec763e7c7c2c7448f8fe7b54cca811cb821b0c7e12cd161caace1dd794ac3d34d40937cbcc9ee12.js integrity="sha512-UWoWdFvqWpvQERONJUzA/TlzzVXObhXz3sdj58fCx0SPj+e1TMqBHLghsMfhLNFhyqzh3XlKw9NNQJN8vMnuEg=="></script>
<script defer type=text/javascript id=script-bundle src=/js/main.bundle.min.41e474f5d66052b313c33b8f56008afac498015b7472d0f2ab78e22c187405fdff125b6735973309e4743b6924ca8c575db297f464c42da8e30ef9daed3b050c.js integrity="sha512-QeR09dZgUrMTwzuPVgCK+sSYAVt0ctDyq3jiLBh0Bf3/EltnNZczCeR0O2kkyoxXXbKX9GTELajjDvna7TsFDA==" data-copy data-copied></script>
<script src=/js/zoom.min.js></script>
<link rel=icon href=/favicon.png pe=image/png><meta property="og:title" content="函数式编程 && Python - 第一部分"><meta property="og:description" content="关于函数式 # Imperative Programming 指令式编程（C/C++，Java）"><meta property="og:type" content="article"><meta property="og:url" content="https://n3xtchen.github.io/2014/08/04/2014-08-04-python---functional-programming/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2014-08-04T00:00:00+00:00"><meta property="article:modified_time" content="2014-08-04T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="函数式编程 && Python - 第一部分"><meta name=twitter:description content="关于函数式 # Imperative Programming 指令式编程（C/C++，Java）"><script type=application/ld+json>[{"@context":"https://schema.org","@type":"Article","articleSection":"时间线","name":"函数式编程 \u0026\u0026 Python - 第一部分","headline":"函数式编程 \u0026\u0026 Python - 第一部分","abstract":"关于函数式 # Imperative Programming 指令式编程（C\/C\u002b\u002b，Java）","inLanguage":"zh-CN","url":"https:\/\/n3xtchen.github.io\/2014\/08\/04\/2014-08-04-python---functional-programming\/","author":{"@type":"Person","name":"n3xtchen"},"copyrightYear":"2014","dateCreated":"2014-08-04T00:00:00\u002b00:00","datePublished":"2014-08-04T00:00:00\u002b00:00","dateModified":"2014-08-04T00:00:00\u002b00:00","keywords":["python","Funcitonal Programming"],"mainEntityOfPage":"true","wordCount":"838"}]</script><meta name=author content="n3xtchen"><link href=https://twitter.com/mN3XT rel=me><link href=https://githhub.com/n3xtchen rel=me><script src=/lib/jquery/jquery.slim.min.js integrity></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EMLJCHXBFD"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-EMLJCHXBFD")</script><meta name=theme-color><style>code.has-jax{-webkit-font-smoothing:antialiased;background:inherit!important;border:none!important;font-size:100%}</style><script>MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0,processEnvironments:!0},options:{skipHtmlTags:["script","noscript","style","textarea","pre"]}},window.addEventListener("load",e=>{document.querySelectorAll("mjx-container").forEach(function(e){e.parentElement.classList+="has-jax"})})</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type=text/javascript id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script></head><body class="flex flex-col h-screen px-6 m-auto text-lg leading-7 max-w-7xl bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32"><div id=the-top class="absolute flex self-center"><a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600" href=#main-content><span class="font-bold text-primary-600 ltr:pr-2 rtl:pl-2 dark:text-primary-400">&darr;</span></a></div><div style=padding-left:0;padding-right:0;padding-top:2px;padding-bottom:3px class="main-menu flex items-center justify-between px-4 py-6 sm:px-6 md:justify-start space-x-3"><div class="flex flex-1 items-center justify-between"><nav class="flex space-x-3"><a href=/ class="text-base font-medium text-gray-500 hover:text-gray-900">N3xtChen 的博客</a></nav><nav class="hidden md:flex items-center space-x-5 md:ml-12 h-12"><a href=/posts/ class="flex items-center"><p class="text-base font-medium text-gray-500 hover:text-gray-900" title=时间线>时间线</p></a><a href=/categories/ class="flex items-center"><p class="text-base font-medium text-gray-500 hover:text-gray-900" title=分类页>分类</p></a><a href=/tags/ class="flex items-center"><p class="text-base font-medium text-gray-500 hover:text-gray-900" title=Tags>标签</p></a><button id=search-button aria-label=Search class="text-base hover:text-primary-600 dark:hover:text-primary-400 h-12" title>
<span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></button><div class="ltr:mr-14 rtl:ml-14 cursor-pointer text-sm text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400"><button id=appearance-switcher aria-label="Dark mode switcher" type=button><div class="flex items-center justify-center h-12 dark:hidden"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M32 256C32 132.2 132.3 32 255.8 32c11.36.0 29.7 1.668 40.9 3.746 9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3 9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480 132.1 480 32 379.6 32 256z"/></svg></span></div><div class="items-center justify-center hidden h-12 dark:flex"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M256 159.1c-53.02.0-95.1 42.98-95.1 95.1s41.2 96.9 95.1 96.9 95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347l-63.2-91.9 63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89 164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6 12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256 2.74 347.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7 19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109 109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69.0-127.1-57.31-127.1-127.1.0-70.69 57.31-127.1 127.1-127.1S383.1 186.2 383.1 256c0 70.7-56.4 127.1-127.1 127.1z"/></svg></span></div></button></div></nav><div class="flex md:hidden items-center space-x-5 md:ml-12"><span></span>
<button id=search-button-mobile aria-label=Search class="text-base hover:text-primary-600 dark:hover:text-primary-400" title>
<span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></button>
<button id=appearance-switcher-mobile aria-label="Dark mode switcher" type=button style=margin-right:5px><div class="flex items-center justify-center h-12 dark:hidden"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M32 256C32 132.2 132.3 32 255.8 32c11.36.0 29.7 1.668 40.9 3.746 9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3 9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480 132.1 480 32 379.6 32 256z"/></svg></span></div><div class="items-center justify-center hidden h-12 dark:flex"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M256 159.1c-53.02.0-95.1 42.98-95.1 95.1s41.2 96.9 95.1 96.9 95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347l-63.2-91.9 63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89 164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6 12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256 2.74 347.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7 19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109 109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69.0-127.1-57.31-127.1-127.1.0-70.69 57.31-127.1 127.1-127.1S383.1 186.2 383.1 256c0 70.7-56.4 127.1-127.1 127.1z"/></svg></span></div></button></div></div><div class="-my-2 -mr-2 md:hidden"><label id=menu-button for=menu-controller class=block><input type=checkbox id=menu-controller class=hidden><div class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentcolor" d="M0 96C0 78.33 14.33 64 32 64H416c17.7.0 32 14.33 32 32 0 17.7-14.3 32-32 32H32C14.33 128 0 113.7.0 96zM0 256c0-17.7 14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32H32c-17.67.0-32-14.3-32-32zM416 448H32c-17.67.0-32-14.3-32-32s14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32z"/></svg></span></div><div id=menu-wrapper style=padding-top:5px class="fixed inset-0 z-30 invisible w-screen h-screen m-0 overflow-auto transition-opacity opacity-0 cursor-default bg-neutral-100/50 backdrop-blur-sm dark:bg-neutral-900/50"><ul class="flex space-y-2 mt-3 flex-col items-end w-full px-6 py-6 mx-auto overflow-visible list-none ltr:text-right rtl:text-left max-w-7xl"><li><span class="cursor-pointer inline-block align-text-bottom hover:text-primary-600 dark:hover:text-primary-400"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentcolor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></span></li><li class=mt-1><a href=/posts/ class="flex items-center"><p class="text-bg font-bg text-gray-500 hover:text-gray-900" title=时间线>时间线</p></a></li><li class=mt-1><a href=/categories/ class="flex items-center"><p class="text-bg font-bg text-gray-500 hover:text-gray-900" title=分类页>分类</p></a></li><li class=mt-1><a href=/tags/ class="flex items-center"><p class="text-bg font-bg text-gray-500 hover:text-gray-900" title=Tags>标签</p></a></li></ul></div></label></div></div><div class="relative flex flex-col grow"><main id=main-content class=grow><article><header id=single_header class="mt-5 max-w-prose"><h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">函数式编程 && Python - 第一部分
   </h1><div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden"><div class="flex flex-row flex-wrap items-center"><time datetime="2014-08-04 00:00:00 +0000 UTC">2014-08-04</time><span class="px-2 text-primary-500">&#183;</span><span>838 字</span><span class="px-2 text-primary-500">&#183;</span><span title=预计阅读>4 分钟</span></div><div class="flex flex-row flex-wrap items-center"><span style=margin-top:.5rem class=mr-2 onclick='window.open("/categories/python/","_self")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">Python</span></span></span>
<span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/python/","_self")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">python</span></span></span>
<span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/funcitonal-programming/","_self")'><span class=flex><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">Funcitonal Programming</span></span></span></div></div><div class=flex><img class="!mt-0 !mb-0 h-24 w-24 rounded-full ltr:mr-4 rtl:ml-4" width=96 height=96 alt=n3xtchen src=/images/author.jpg><div class=place-self-center><div class="text-[0.6rem] uppercase leading-3 text-neutral-500 dark:text-neutral-400">作者</div><div class="font-semibold leading-6 text-neutral-800 dark:text-neutral-300">n3xtchen</div><div class="text-sm text-neutral-700 dark:text-neutral-400">Sharing Funny Tech With You</div><div class="text-2xl sm:text-lg"><div class="flex flex-wrap text-neutral-400 dark:text-neutral-500"><a class="px-1 hover:text-primary-700 dark:hover:text-primary-400" href=https://twitter.com/mN3XT target=_blank aria-label=Twitter rel="me noopener noreferrer"><span class="inline-block align-text-bottom"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645.0 138.72-105.583 298.558-298.558 298.558-59.452.0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055.0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421.0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391.0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04.0-57.828 46.782-104.934 104.934-104.934 30.213.0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg></span></span></a><a class="px-1 hover:text-primary-700 dark:hover:text-primary-400" href=https://githhub.com/n3xtchen target=_blank aria-label=Github rel="me noopener noreferrer"><span class="inline-block align-text-bottom"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentcolor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span></span></a></div></div></div></div><div class=mb-5></div></header><section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row"><div class="order-first sm:max-w-prose lg:ml-auto px-0 lg:order-last lg:max-w-xs ltr:lg:pl-8 rtl:lg:pr-8"><div class="toc ltr:pl-5 rtl:pr-5 print:hidden lg:sticky lg:top-10"><details open class="mt-0 overflow-hidden rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 hidden lg:block"><summary class="block py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden"></summary><div class="min-w-[220px] py-2 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600"><nav id=TableOfContents><ul><li><ul><li><a href=#关于函数式>关于函数式</a><ul><li><a href=#fp-的特性>FP 的特性：</a></li><li><a href=#命令行执行风格>命令行执行风格</a></li></ul></li><li><a href=#简单的例子>简单的例子</a><ul><li><a href=#指令式-1>指令式</a></li><li><a href=#函数式>函数式</a></li><li><a href=#mapreducefilter>MAP/REDUCE/FILTER</a></li></ul></li><li><a href=#函数式编程函数是第一类型和高阶函数>函数式编程－函数是第一类型和高阶函数</a><ul><li><a href=#第一类型>第一类型</a></li><li><a href=#高阶函数high-ordered-function>高阶函数（High Ordered Function）</a></li></ul></li><li><a href=#纯函数pure-function>纯函数（Pure Function）</a><ul><li><a href=#pure>PURE</a></li><li><a href=#not-pure>NOT PURE</a></li><li><a href=#pure-1>PURE？？</a></li></ul></li><li><a href=#纯函数是何方神圣>纯函数是何方神圣？</a><ul><li><a href=#有什么好处>有什么好处？</a></li></ul></li><li><a href=#so函数还是纯的好>SO，函数还是纯的好！</a></li><li><a href=#我们能避免轮询吗--递归>我们能避免轮询吗？- 递归</a><ul><li><a href=#使用递归调用>使用递归调用</a></li></ul></li><li><a href=#函数式编程尾递归调用>函数式编程－尾(递归)调用</a><ul><li><a href=#erlang>ERLANG</a></li><li><a href=#python>PYTHON</a></li></ul></li><li><a href=#惰性求值lazy-evaluation>惰性求值（Lazy Evaluation）</a></li><li><a href=#函数式编程偏函数应用partial-function-application>函数式编程－偏函数应用（Partial Function Application）</a></li><li><a href=#函数式编程加里化currying>函数式编程－加里化（Currying）</a><ul><li><a href=#常规的函数>常规的函数</a></li><li><a href=#使用-currying>使用 Currying</a></li><li><a href=#使用闭包封装一个通用-currying-的函数来源-cookbook>使用闭包封装一个通用 Currying 的函数(来源 Cookbook)</a></li><li><a href=#标准库中利用-currying-技术>标准库中利用 Currying 技术：</a></li></ul></li><li><a href=#程序就要小而美>程序就要小而美</a><ul><li><a href=#bad>BAD</a></li><li><a href=#not-bad>NOT BAD&mldr;</a></li><li><a href=#good>GOOD</a></li></ul></li><li><a href=#结语>结语</a></li><li><a href=#未完待续>未完待续</a></li></ul></li></ul></nav></div></details><details class="mt-0 overflow-hidden rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 lg:hidden"><summary class="py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden"></summary><div class="py-2 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600"><nav id=TableOfContents><ul><li><ul><li><a href=#关于函数式>关于函数式</a><ul><li><a href=#fp-的特性>FP 的特性：</a></li><li><a href=#命令行执行风格>命令行执行风格</a></li></ul></li><li><a href=#简单的例子>简单的例子</a><ul><li><a href=#指令式-1>指令式</a></li><li><a href=#函数式>函数式</a></li><li><a href=#mapreducefilter>MAP/REDUCE/FILTER</a></li></ul></li><li><a href=#函数式编程函数是第一类型和高阶函数>函数式编程－函数是第一类型和高阶函数</a><ul><li><a href=#第一类型>第一类型</a></li><li><a href=#高阶函数high-ordered-function>高阶函数（High Ordered Function）</a></li></ul></li><li><a href=#纯函数pure-function>纯函数（Pure Function）</a><ul><li><a href=#pure>PURE</a></li><li><a href=#not-pure>NOT PURE</a></li><li><a href=#pure-1>PURE？？</a></li></ul></li><li><a href=#纯函数是何方神圣>纯函数是何方神圣？</a><ul><li><a href=#有什么好处>有什么好处？</a></li></ul></li><li><a href=#so函数还是纯的好>SO，函数还是纯的好！</a></li><li><a href=#我们能避免轮询吗--递归>我们能避免轮询吗？- 递归</a><ul><li><a href=#使用递归调用>使用递归调用</a></li></ul></li><li><a href=#函数式编程尾递归调用>函数式编程－尾(递归)调用</a><ul><li><a href=#erlang>ERLANG</a></li><li><a href=#python>PYTHON</a></li></ul></li><li><a href=#惰性求值lazy-evaluation>惰性求值（Lazy Evaluation）</a></li><li><a href=#函数式编程偏函数应用partial-function-application>函数式编程－偏函数应用（Partial Function Application）</a></li><li><a href=#函数式编程加里化currying>函数式编程－加里化（Currying）</a><ul><li><a href=#常规的函数>常规的函数</a></li><li><a href=#使用-currying>使用 Currying</a></li><li><a href=#使用闭包封装一个通用-currying-的函数来源-cookbook>使用闭包封装一个通用 Currying 的函数(来源 Cookbook)</a></li><li><a href=#标准库中利用-currying-技术>标准库中利用 Currying 技术：</a></li></ul></li><li><a href=#程序就要小而美>程序就要小而美</a><ul><li><a href=#bad>BAD</a></li><li><a href=#not-bad>NOT BAD&mldr;</a></li><li><a href=#good>GOOD</a></li></ul></li><li><a href=#结语>结语</a></li><li><a href=#未完待续>未完待续</a></li></ul></li></ul></nav></div></details></div></div><div class="min-w-0 min-h-0 max-w-fit"><div class="max-w-prose mb-20"><div id=关于函数式 class=anchor></div><h3 class="relative group">关于函数式
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e5%85%b3%e4%ba%8e%e5%87%bd%e6%95%b0%e5%bc%8f aria-label=锚点>#</a></span></h3><ul><li><p>Imperative Programming 指令式编程（C/C++，Java）</p></li><li><p>Declarative Programming 声明式编程）</p><ul><li><strong>Functional programming</strong> 函数式编程（Haskel， Scheme，OCaml）</li><li>Logic programming 逻辑编程（Prolog，Clojure.core.logic）</li></ul></li><li><p>IP = 通过执行改变程序状态的语句进行计算</p></li><li><p>FP = 使用数学函数计算求值，避免状态和改变数据</p></li></ul><div id=fp-的特性 class=anchor></div><h4 class="relative group">FP 的特性：
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#fp-%e7%9a%84%e7%89%b9%e6%80%a7 aria-label=锚点>#</a></span></h4><ul><li>Avoid State 避免状态</li><li>Immutable data 不可变的数据</li><li>First Class Functon：函数是第一类型</li><li>High Ordered Function 高阶函数</li><li>Pure Function 纯函数</li><li>Recursion，Tail Recursion 递归，尾递归</li><li>惰性求值</li><li>Partial Function Application(偏函数)和 Currying(函数加里化)</li><li>迭代器，队列，模式匹配。。。</li></ul><div id=命令行执行风格 class=anchor></div><h4 class="relative group">命令行执行风格
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e5%91%bd%e4%bb%a4%e8%a1%8c%e6%89%a7%e8%a1%8c%e9%a3%8e%e6%a0%bc aria-label=锚点>#</a></span></h4><div id=指令式 class=anchor></div><h5 class="relative group">指令式
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e6%8c%87%e4%bb%a4%e5%bc%8f aria-label=锚点>#</a></span></h5><pre><code>$ ./program1
$ ./program2 --param1=1
$ ./program3
</code></pre><div id=函数式pipeline class=anchor></div><h5 class="relative group">函数式(Pipeline)
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e5%87%bd%e6%95%b0%e5%bc%8fpipeline aria-label=锚点>#</a></span></h5><pre><code>$ ./program1 | ./program2 --param1=1 | ./program3
</code></pre><div id=简单的例子 class=anchor></div><h3 class="relative group">简单的例子
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e7%ae%80%e5%8d%95%e7%9a%84%e4%be%8b%e5%ad%90 aria-label=锚点>#</a></span></h3><p>计算部分无效字符串的数据计算：</p><pre><code>&quot;28+32+++32++39&quot;
</code></pre><div id=指令式-1 class=anchor></div><h4 class="relative group">指令式
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e6%8c%87%e4%bb%a4%e5%bc%8f-1 aria-label=锚点>#</a></span></h4><p>Imperative Style ＝ 执行动作，从初始状态转变成结果</p><pre><code>expr, res = &quot;28+32+++32++39&quot;, 0
for t in expr.split(&quot;+&quot;):
	if t != &quot;&quot;:
    	res += int(t)
print res
</code></pre><p>执行路径：</p><pre><code>&quot;28+32+++32++39&quot;, 0
&quot;28&quot;, 0
&quot;32&quot;, 28
&quot;&quot;, 60
&quot;&quot;, 60
&quot;32&quot;, 60
&quot;&quot;, 92
&quot;39&quot;, 92
131
</code></pre><div id=函数式 class=anchor></div><h4 class="relative group">函数式
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e5%87%bd%e6%95%b0%e5%bc%8f aria-label=锚点>#</a></span></h4><p>Functional Style = 应用转换和组合</p><pre><code>from operator import add
expr = &quot;28+32+++32++39&quot;
print reduce(add, map(int, filter(bool, expr.split(&quot;+&quot;))))
</code></pre><p>执行路径：</p><pre><code>&quot;28+32+++32++39&quot;
[&quot;28&quot;,&quot;32&quot;,&quot;&quot;,&quot;&quot;,&quot;32&quot;,&quot;&quot;,&quot;39&quot;]	# split
[&quot;28&quot;,&quot;32&quot;,&quot;32&quot;,&quot;39&quot;]	# filter
[28,32,32,39]	# int
131	# reduce
</code></pre><div id=mapreducefilter class=anchor></div><h4 class="relative group">MAP/REDUCE/FILTER
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#mapreducefilter aria-label=锚点>#</a></span></h4><ul><li>可读性 VS 简洁</li><li>技术面 VS 操作物质</li><li>代码复用（热拔插）</li></ul><div id=函数式编程函数是第一类型和高阶函数 class=anchor></div><h3 class="relative group">函数式编程－函数是第一类型和高阶函数
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e5%87%bd%e6%95%b0%e5%bc%8f%e7%bc%96%e7%a8%8b%e5%87%bd%e6%95%b0%e6%98%af%e7%ac%ac%e4%b8%80%e7%b1%bb%e5%9e%8b%e5%92%8c%e9%ab%98%e9%98%b6%e5%87%bd%e6%95%b0 aria-label=锚点>#</a></span></h3><div id=第一类型 class=anchor></div><h4 class="relative group">第一类型
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e7%ac%ac%e4%b8%80%e7%b1%bb%e5%9e%8b aria-label=锚点>#</a></span></h4><p>换句话说，你的函数可以像变量一样来使用！</p><p>它可以作为变量：</p><pre><code>add = lambda a,b: a + b
</code></pre><p>它也可以作为函数的返回值</p><pre><code>def calculations(a, b):
	def add():
    	return a + b

return a, b, add
</code></pre><div id=高阶函数high-ordered-function class=anchor></div><h4 class="relative group">高阶函数（High Ordered Function）
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e9%ab%98%e9%98%b6%e5%87%bd%e6%95%b0high-ordered-function aria-label=锚点>#</a></span></h4><p>在数学和计算机科学中，高阶函数是至少满足下列一个条件的函数:</p><ul><li>接受一个或多个函数作为输入，即作为参数</li><li>输出一个函数，即作为返回值</li></ul><p>在数学中它们也叫做运算符或范式函数。微积分中的导数就是常见的例子，因为它映射一个函数到另一个函数。
例如:函数f(x) = x2;函数f(x)的导数为2x;2x也为一个函数，所以导数是高阶函数。</p><p>作为参数传递给函数：</p><pre><code>map(lambda x: x^2, [1,2,3,4,5])
</code></pre><p>作为返回值</p><pre><code>def speak(topic):
	print &quot;My speach is &quot; + topic

def timer(fn):
	def inner(*args, **kwargs):
    	t = time()
    	fn(*args, **kwargs)
    	print &quot;took {time}&quot;.format(time=time()-t)

	return inner

speaker = timer(speak)
speaker(&quot;FP with Python&quot;)

# 好可以这么用
@timer
def speak(topic):
	print &quot;My speach is &quot; + topic	

speak(&quot;FP with Python&quot;)
</code></pre><blockquote><p>你可能对第一类型和高阶函数感觉到迷糊，下面是 StackOverflow 的答案：</p><p>第一类型和高阶函数的区别 <a href=http://stackoverflow.com/questions/10141124/any-difference-between-first-class-function-and-high-order-function target=_blank>http://stackoverflow.com/questions/10141124/any-difference-between-first-class-function-and-high-order-function</a>
看完估计还是很晕，不过</p></blockquote><div id=纯函数pure-function class=anchor></div><h3 class="relative group">纯函数（Pure Function）
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e7%ba%af%e5%87%bd%e6%95%b0pure-function aria-label=锚点>#</a></span></h3><div id=pure class=anchor></div><h4 class="relative group">PURE
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#pure aria-label=锚点>#</a></span></h4><pre><code>def is_interesting(topic):
	return topic.contains(&quot;FP&quot;)
</code></pre><div id=not-pure class=anchor></div><h4 class="relative group">NOT PURE
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#not-pure aria-label=锚点>#</a></span></h4><pre><code>def speak(topic):
	print topic
</code></pre><div id=pure-1 class=anchor></div><h4 class="relative group">PURE？？
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#pure-1 aria-label=锚点>#</a></span></h4><pre><code>def set_talk(speaker, topic):
	speaker[&quot;talk&quot;] = topic
	return speaker
</code></pre><div id=纯函数是何方神圣 class=anchor></div><h3 class="relative group">纯函数是何方神圣？
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e7%ba%af%e5%87%bd%e6%95%b0%e6%98%af%e4%bd%95%e6%96%b9%e7%a5%9e%e5%9c%a3 aria-label=锚点>#</a></span></h3><p><strong>纯函数</strong>（Pure Function）是这样一种函数——输入输出数据流全是显式（Explicit）的。</p><p>显式（Explicit）的意思是，函数与外界交换数据只有一个唯一渠道——参数和返回值；函数从函数外部接受的所有输入信息都通过参数传递到该函数内部；函数输出到函数外部的所有信息都通过返回值传递到该函数外部。</p><div id=有什么好处 class=anchor></div><h4 class="relative group">有什么好处？
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e6%9c%89%e4%bb%80%e4%b9%88%e5%a5%bd%e5%a4%84 aria-label=锚点>#</a></span></h4><p>纯函数的好处主要有几点：</p><ul><li>无状态。线程安全。不需要线程同步。</li><li>纯函数相互调用组装起来的函数，还是纯函数。</li><li>应用程序或者运行环境（Runtime）可以对纯函数的运算结果进行缓存，运算加快速度。</li></ul><p>使用 stackoverflow 的例子：</p><pre><code>for (int i = 0; i &lt; 1000; i++){
	printf(&quot;%d&quot;, pureFun(10));
}
</code></pre><p>使用纯函数，编译器可以知道只需要执行 pureFun(10)，仅需一次，而不是 1000次，然后读入缓存。对于复杂的函数，性能可想而知。。。</p><div id=so函数还是纯的好 class=anchor></div><h3 class="relative group">SO，函数还是纯的好！
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#so%e5%87%bd%e6%95%b0%e8%bf%98%e6%98%af%e7%ba%af%e7%9a%84%e5%a5%bd aria-label=锚点>#</a></span></h3><ul><li>可以使用 <a href=https://docs.python.org/2/library/multiprocessing.html target=_blank>pmap</a></li><li>更少的 BUG</li><li>更容易测试</li><li>最大程度复用</li></ul><div id=我们能避免轮询吗--递归 class=anchor></div><h3 class="relative group">我们能避免轮询吗？- 递归
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e6%88%91%e4%bb%ac%e8%83%bd%e9%81%bf%e5%85%8d%e8%bd%ae%e8%af%a2%e5%90%97--%e9%80%92%e5%bd%92 aria-label=锚点>#</a></span></h3><pre><code>&gt;&gt;&gt; name = None
&gt;&gt;&gt; while name is None:
...    name = raw_input()
...    if len(name) &lt; 2:
...        name = None
</code></pre><div id=使用递归调用 class=anchor></div><h4 class="relative group">使用递归调用
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e4%bd%bf%e7%94%a8%e9%80%92%e5%bd%92%e8%b0%83%e7%94%a8 aria-label=锚点>#</a></span></h4><pre><code>def get_name():
	name = raw_input()
	return name if len(name) &gt;= 2 else get_name()
</code></pre><p>递归最大的好处就简化代码，他可以把一个复杂的问题用很简单的代码描述出来。注意：递归的精髓是描述问题，而这正是函数式编程的精髓。</p><p>** Note **: Python 对递归次数有限制的，当递归次数超过1000次的时候，就会抛出“RuntimeError: maximum recursion depth exceeded”异常。</p><div id=函数式编程尾递归调用 class=anchor></div><h3 class="relative group">函数式编程－尾(递归)调用
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e5%87%bd%e6%95%b0%e5%bc%8f%e7%bc%96%e7%a8%8b%e5%b0%be%e9%80%92%e5%bd%92%e8%b0%83%e7%94%a8 aria-label=锚点>#</a></span></h3><p>在计算机科学里，尾调用是指一个函数里的最后一个动作是一个函数调用的情形：即这个调用的返回值直接被当前函数返回的情形。</p><p>我们知道递归的害处，那就是如果递归很深的话，栈受不了，并会导致性能大幅度下降。所以，我们使用尾递归优化技术——每次递归时都会重用栈，这样一来能够提升性能，当然，这需要语言或编译器的支持。</p><div id=erlang class=anchor></div><h4 class="relative group">ERLANG
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#erlang aria-label=锚点>#</a></span></h4><pre><code>fib(N) -&gt; fib(0,1,N).
fib(_,S,1) -&gt; S;
fib(F,S,N) -&gt; fib(S,F+S,N-1).   
</code></pre><div id=python class=anchor></div><h4 class="relative group">PYTHON
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#python aria-label=锚点>#</a></span></h4><p>Sorry，Python 目前不支持这一特性，下面代码演示，Python 对尾递归算法的实现</p><pre><code>def tailrecsum(x, running_total=0):
	if x == 0:
		return running_total
	else:
		return tailrecsum(x - 1, running_total + x)
</code></pre><p>** Note **: 这只是个算法实现，由于 Python 本身不支持为尾递归，而且实际测试结果中，写成尾递归的方式会比会比普通方式占用多那么多内存，所以应该在实际的代码使用尾递归，后续将会专门的章节介绍。</p><div id=惰性求值lazy-evaluation class=anchor></div><h3 class="relative group">惰性求值（Lazy Evaluation）
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e6%83%b0%e6%80%a7%e6%b1%82%e5%80%bclazy-evaluation aria-label=锚点>#</a></span></h3><p>它的目的是要最小化计算机要做的工作。</p><p>先来看个例子：</p><pre><code>for num in range(1, 20):
	yield num
</code></pre><p>我们动用了Python的关键字 yield，这个关键字主要是返回一个Generator，yield 是一个类似 return 的关键字，只是这个函数返回的是个Generator-生成器。所谓生成器的意思是，yield返回的是一个可迭代的对象，并没有真正的执行函数。也就是说，只有其返回的迭代对象被真正迭代时，yield函数才会正真的运行，运行到yield语句时就会停住，然后等下一次的迭代。（这个是个比较诡异的关键字）这就是lazy evluation。</p><p>惰性求值有显著的优化潜力。惰性编译器看函数式代码就像数学家面对代数表达式——可以消去一部分而完全不去运行它，重新调整代码段以求更高的效率，甚至重整代码以降低出错，所有确定性优化（guaranteeing optimizations）不会破坏代码。这是严格用形式原语描述程序的巨大优势——代码固守着数学定律并可以数学的方式进行推理。</p><p>考虑一个 Fibonacci 数列，显然我们无法在有限的时间内计算出或在有限的内存里保存一个无穷列表。在严格语言如 Java 中，只能定义一个能返回 Fibonacci 数列中特定成员的 Fibonacci 函数，在 Haskell 中，我们对其进一步抽象并定义一个关于 Fibonacci 数的无穷列表，因为作为一个惰性的语言，只有列表中实际被用到的部分才会被求值。这使得可以抽象出很多问题并从一个更高的层次重新审视他们（例如，我们可以在一个无穷列表上使用表处理函数）。</p><div id=函数式编程偏函数应用partial-function-application class=anchor></div><h3 class="relative group">函数式编程－偏函数应用（Partial Function Application）
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e5%87%bd%e6%95%b0%e5%bc%8f%e7%bc%96%e7%a8%8b%e5%81%8f%e5%87%bd%e6%95%b0%e5%ba%94%e7%94%a8partial-function-application aria-label=锚点>#</a></span></h3><blockquote><p>通过<strong>固定函数的一个或多个参数</strong>，生成一个新的更少元数函数。</p></blockquote><p>固定参数是偏函数应用的函数。</p><p>def log(level, message):
print level + &ldquo;: " + message</p><p>log(&ldquo;Warning&rdquo;, &ldquo;this is one warning message&rdquo;)
log(&ldquo;Error&rdquo;, &ldquo;this is one error message&rdquo;)</p><p>def logWarning(message):
log(&ldquo;Warning&rdquo;, message)</p><p>def logError(message):
log(&ldquo;Error&rdquo;, message)</p><p>logWarning(&ldquo;this is one warning message&rdquo;)
logError(&ldquo;this is one error message&rdquo;)</p><p>上面的函数实现，相信代码都不会陌生把，<code>logWarning</code> 和 <code>logError</code> 就叫做函数应用。</p><p>在 Python 中可以借助 functools 模块来完成偏函数应用，而不用手工编写代码。</p><p>看看 Demo：</p><pre><code>&gt;&gt;&gt; from functools import partial
&gt;&gt;&gt; a = lambda x, y, z: x+y+z
&gt;&gt;&gt; bind_x = partial(a, 1)
&gt;&gt;&gt; bind_x(2, 3)
6 
</code></pre><p>上述例子我们可以使用简单类型λ演算来表示</p><pre><code>papply : λ(f, x). λy. f (x, y)
</code></pre><div id=函数式编程加里化currying class=anchor></div><h3 class="relative group">函数式编程－加里化（Currying）
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e5%87%bd%e6%95%b0%e5%bc%8f%e7%bc%96%e7%a8%8b%e5%8a%a0%e9%87%8c%e5%8c%96currying aria-label=锚点>#</a></span></h3><blockquote><p>是一种将带多个参数的函数转化成每次传入一个参数的函数链调用</p></blockquote><p><strong>Currying</strong>：因为是美国数理逻辑学家哈斯凯尔·加里(Haskell Curry)发明了这种函数使用技巧，所以这样用法就以他的名字命名为Currying，中文翻译为“加里化”。</p><p>先看一个简单的例子：</p><pre><code>def hiCurry(x):
	return lambda z: lambda y: x + y + z
	
&gt;&gt;&gt; hiCurry(1)(2)(3)
6
</code></pre><p>上述例子我们可以使用简单类型λ演算来表示</p><pre><code>curry: λx. λy. λz. (x+y+z)
</code></pre><div id=常规的函数 class=anchor></div><h4 class="relative group">常规的函数
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e5%b8%b8%e8%a7%84%e7%9a%84%e5%87%bd%e6%95%b0 aria-label=锚点>#</a></span></h4><pre><code>def simple_sum(a, b):
	return sum(range(a, b+1))

&gt;&gt;&gt; simple_sum(1, 10)
55

def square_sum(a, b):
return sum(map(lambda x: x**2, range(a,b+1)))

&gt;&gt;&gt; square_sum(1,10)
385
</code></pre><div id=使用-currying class=anchor></div><h4 class="relative group">使用 Currying
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e4%bd%bf%e7%94%a8-currying aria-label=锚点>#</a></span></h4><pre><code>def fsum(f):
	def apply(a, b):
    	return sum(map(f, range(a,b+1)))
	return apply

log_sum = fsum(math.log)
square_sum = fsum(lambda x: x**2)
simple_sum = fsum(int) ## fsum(lambda x: x)

&gt;&gt;&gt; fsum(lambda x: x*2)(1, 10)
110
&gt;&gt;&gt; import functools
&gt;&gt;&gt; fsum(functools.partial(operator.mul, 2))(1, 10)
110
</code></pre><div id=使用闭包封装一个通用-currying-的函数来源-cookbook class=anchor></div><h4 class="relative group">使用闭包封装一个通用 Currying 的函数(来源 Cookbook)
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e4%bd%bf%e7%94%a8%e9%97%ad%e5%8c%85%e5%b0%81%e8%a3%85%e4%b8%80%e4%b8%aa%e9%80%9a%e7%94%a8-currying-%e7%9a%84%e5%87%bd%e6%95%b0%e6%9d%a5%e6%ba%90-cookbook aria-label=锚点>#</a></span></h4><pre><code>def currying(f, *a, **kw):
	def curried(*more_a, **more_kw):
    	return f(*(a+more_a), **dict(kw, **more_kw))
	return curried
	
&gt;&gt;&gt; a = lambda a, b, c: a+b+c
&gt;&gt;&gt; fillA = currying(a, 1)
&gt;&gt;&gt; fillB = currying(fillA, 2)
&gt;&gt;&gt; fillC = currying(fillC, 3)
&gt;&gt;&gt; fillC()
6
</code></pre><div id=标准库中利用-currying-技术 class=anchor></div><h4 class="relative group">标准库中利用 Currying 技术：
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e6%a0%87%e5%87%86%e5%ba%93%e4%b8%ad%e5%88%a9%e7%94%a8-currying-%e6%8a%80%e6%9c%af aria-label=锚点>#</a></span></h4><pre><code>&gt;&gt;&gt; from operator import itemgetter
&gt;&gt;&gt; itemgetter(3)([1,2,3,4,5])
4

&gt;&gt;&gt; from operator import attrgetter as attr
&gt;&gt;&gt; class Speaker(object):
...     def __init__(self, name):
...         self.name = &quot;[name] &quot; + name
... 
&gt;&gt;&gt; alexey = Speaker(&quot;Alexey&quot;)
&gt;&gt;&gt; attr(&quot;name&quot;)(alexey)
'[name] Alexey'

&gt;&gt;&gt; from operator import methodcaller

&gt;&gt;&gt; methodcaller(&quot;__str__&quot;)([1,2,3,4,5])
'[1, 2, 3, 4, 5]'
&gt;&gt;&gt; methodcaller(&quot;keys&quot;)(dict(name=&quot;Alexey&quot;, topic=&quot;FP&quot;))
['topic', 'name']

&gt;&gt;&gt; values_extractor = methodcaller(&quot;values&quot;)
&gt;&gt;&gt; values_extractor(dict(name=&quot;Alexey&quot;, topic=&quot;FP&quot;))
['FP', 'Alexey']

&gt;&gt;&gt; methodcaller(&quot;count&quot;, 1)([1,1,1,2,2]) 
&gt;&gt;&gt; # same as [1,1,1,2,2].count(1)
3
</code></pre><div id=程序就要小而美 class=anchor></div><h3 class="relative group">程序就要小而美
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e7%a8%8b%e5%ba%8f%e5%b0%b1%e8%a6%81%e5%b0%8f%e8%80%8c%e7%be%8e aria-label=锚点>#</a></span></h3><div id=bad class=anchor></div><h4 class="relative group">BAD
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#bad aria-label=锚点>#</a></span></h4><pre><code>&gt;&gt;&gt; ss = [&quot;UA&quot;, &quot;PyCon&quot;, &quot;2012&quot;]
&gt;&gt;&gt; reduce(lambda acc, s: acc + len(s), ss, 0)
11
</code></pre><div id=not-bad class=anchor></div><h4 class="relative group">NOT BAD&mldr;
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#not-bad aria-label=锚点>#</a></span></h4><pre><code>&gt;&gt;&gt; ss = [&quot;UA&quot;, &quot;PyCon&quot;, &quot;2012&quot;]
&gt;&gt;&gt; reduce(lambda l,r: l+r, map(lambda s: len(s), ss))
11
</code></pre><div id=good class=anchor></div><h4 class="relative group">GOOD
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#good aria-label=锚点>#</a></span></h4><pre><code>&gt;&gt;&gt; ss = [&quot;UA&quot;, &quot;PyCon&quot;, &quot;2012&quot;]
&gt;&gt;&gt; reduce(operator.add, map(len, ss))
11
</code></pre><div id=结语 class=anchor></div><h3 class="relative group">结语
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e7%bb%93%e8%af%ad aria-label=锚点>#</a></span></h3><p>系统地总结下自己对函数式编程的理解，没想到，收获颇丰！千万不要被外界评论给吓倒，绝对是一门有意思的学问。</p><p>发现通过小小一个篇幅的博客，根本无法把函数式编程的全部概念都讲清楚，只能慢慢来了，越深挖，内容也多，来日方长，只能慢慢来了，就怕大脑不够用！已经被忽悠去学习 λ 演算！</p><p>FP 哪里是编程，骨子里就是透着都是数学公式。</p><div id=未完待续 class=anchor></div><h3 class="relative group">未完待续
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e6%9c%aa%e5%ae%8c%e5%be%85%e7%bb%ad aria-label=锚点>#</a></span></h3><blockquote><p>参考：</p><p>* <a href=http://ua.pycon.org/static/talks/kachayev/#/ target=_blank>FUNCTIONAL PROGRAMMING WITH PYTHON</a>
* <a href=http://en.wikipedia.org/wiki/Pure_function target=_blank>Pure Function</a></p><ul><li><a href=http://coolshell.cn/articles/10822.html target=_blank>CoolShell 函数式编程</a></li><li><a href=http://zh.wikipedia.org/wiki/%E5%87%BD%E6%95%B0%E5%89%AF%E4%BD%9C%E7%94%A8#.E7.BA.AF.E5.87.BD.E6.95.B0 target=_blank>函数副作用</a>
* <a href=http://www.webdevelopmentmachine.com/blog/%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0%E4%B8%8E%E7%AC%AC%E4%B8%80%E5%9E%8B_higher-order-function-and-first-class-object/ target=_blank>Higher-order function and First-class object</a>
* <a href=http://www.nowamagic.net/academy/detail/1220550 target=_blank>函数式编程里的惰性求值</a>
* <a href=http://www.vaikan.com/currying-partial-application/ target=_blank>函数加里化(Currying)和偏函数应用(Partial Application)的比较</a>
* <a href=http://mtomassoli.wordpress.com/2012/03/18/currying-in-python/ target=_blank>Currying in Python</a>
* <a href=http://blog.csdn.net/kingofark/article/details/1144461 target=_blank>Recipe 16.4. Associating Parameters with a Function (Currying)</a></li></ul></blockquote></div></div><script>var oid="views_posts/2014-08-04-python---functional-programming.md",oid_likes="likes_posts/2014-08-04-python---functional-programming.md"</script><script type=text/javascript src=/js/page.min.0e49973b4ad0a382c7c6012d8bff8226316642daabc4f8a20477bd08674f3da6e2fa993bc20ad4f51e7c5bb68e6f913a207a7c4fe37ea0e7b806894afce0a64e.js integrity="sha512-DkmXO0rQo4LHxgEti/+CJjFmQtqrxPiiBHe9CGdPPabi+pk7wgrU9R58W7aOb5E6IHp8T+N+oOe4BolK/OCmTg=="></script></section><footer class="pt-8 max-w-prose print:hidden"><div class=pt-8><hr class="border-dotted border-neutral-300 dark:border-neutral-600"><div class="flex justify-between pt-3"><span><a class="flex group mr-3" href=/2014/07/25/2014-07-25-python-tdd---doctest-unittest2-coverage/><span class="mr-3 text-neutral-700 group-hover:text-primary-600 ltr:inline rtl:hidden dark:text-neutral dark:group-hover:text-primary-400">&larr;</span>
<span class="ml-3 text-neutral-700 group-hover:text-primary-600 ltr:hidden rtl:inline dark:text-neutral dark:group-hover:text-primary-400">&rarr;</span>
<span class="flex flex-col"><span class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500">Python 测试驱动开发 - TDD初阶</span>
<span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400"><time datetime="2014-07-25 00:00:00 +0000 UTC">2014-07-25</time></span></span></a></span>
<span><a class="flex text-right group ml-3" href=/2014/08/08/2014-08-08-python---args-and-kwargs/><span class="flex flex-col"><span class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500">Python 优雅的使用参数 - 可变参数（*args & **kwargs)</span>
<span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400"><time datetime="2014-08-08 00:00:00 +0000 UTC">2014-08-08</time></span></span>
<span class="ml-3 text-neutral-700 group-hover:text-primary-600 ltr:inline rtl:hidden dark:text-neutral dark:group-hover:text-primary-400">&rarr;</span>
<span class="mr-3 text-neutral-700 group-hover:text-primary-600 ltr:hidden rtl:inline dark:text-neutral dark:group-hover:text-primary-400">&larr;</span></a></span></div></div></footer></article><div id=top-scroller class="pointer-events-none absolute top-[110vh] bottom-0 w-12 ltr:right-0 rtl:left-0"><a href=#the-top class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 mb-16 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 backdrop-blur hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400" aria-label title>&uarr;</a></div></main><footer id=site-footer class="py-10 print:hidden"><div class="flex items-center justify-between"><p class="text-sm text-neutral-500 dark:text-neutral-400">&copy;
2023
n3xtchen</p><p class="text-xs text-neutral-500 dark:text-neutral-400">由 <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://gohugo.io/ target=_blank rel="noopener noreferrer">Hugo</a> & <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://blowfish.page/ target=_blank rel="noopener noreferrer">Blowfish</a> 强力驱动</p></div><script>mediumZoom(document.querySelectorAll("img:not(.nozoom)"),{margin:24,background:"rgba(0,0,0,0.5)",scrollOffset:0})</script><script type=text/javascript src=/js/process.min.35c1113bcc16c5a59bf031082f9e63822aa95280423881a7847a7ff33a16e6299ce6a840d9ef4e10d947e030a18f3f20359afb2ec0f35967484b9a9360ac3145.js integrity="sha512-NcERO8wWxaWb8DEIL55jgiqpUoBCOIGnhHp/8zoW5imc5qhA2e9OENlH4DChjz8gNZr7LsDzWWdIS5qTYKwxRQ=="></script></footer><div id=search-wrapper class="invisible fixed inset-0 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh]" data-url=https://n3xtchen.github.io style=z-index:500><div id=search-modal class="flex flex-col w-full max-w-3xl min-h-0 mx-auto border rounded-md shadow-lg top-20 border-neutral-200 bg-neutral dark:border-neutral-700 dark:bg-neutral-800"><header class="relative z-10 flex items-center justify-between flex-none px-2"><form class="flex items-center flex-auto min-w-0"><div class="flex items-center justify-center w-8 h-8 text-neutral-400"><span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></div><input type=search id=search-query class="flex flex-auto h-12 mx-1 bg-transparent appearance-none focus:outline-dotted focus:outline-2 focus:outline-transparent" placeholder tabindex=0></form><button id=close-search-button class="flex items-center justify-center w-8 h-8 text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400" title>
<span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentcolor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></button></header><section class="flex-auto px-2 overflow-auto"><ul id=search-results></ul></section></div></div></div></body></html>